# Microsoft To Do 风格任务清单应用

一个使用Tailwind CSS、Flask和SQLite构建的Microsoft To Do风格的任务管理应用。

## 🎯 项目特色

- 🎨 **Microsoft To Do 风格界面**: 完全仿照Microsoft To Do的设计风格和用户体验
- 📱 **响应式设计**: 支持不同屏幕尺寸的自适应布局
- 🔍 **智能搜索**: 快速搜索和定位任务
- 💾 **数据持久化**: 使用SQLite数据库存储任务和用户偏好
- 🌐 **RESTful API**: 完整的后端API接口
- 🎭 **主题切换**: 支持浅色/深色主题切换
- ⭐ **任务优先级**: 支持高、中、低优先级设置
- 📅 **截止日期**: 任务截止日期管理和提醒
- 📊 **统计信息**: 实时任务完成统计

## 🛠️ 技术栈

- **前端**: HTML5, Tailwind CSS, JavaScript (ES6+)
- **后端**: Flask (Python 3.7+)
- **数据库**: SQLite3
- **UI框架**: Tailwind CSS + Font Awesome
- **界面风格**: Microsoft To Do

## 📁 项目结构

```
dt/
├── app.py                 # Flask主应用文件
├── database.py           # 数据库模型和初始化脚本
├── requirements.txt      # Python依赖包列表
├── start.bat             # Windows启动脚本
├── README.md             # 项目说明文档
├── todo_list.md          # 项目改造计划
├── static/               # 静态资源目录
│   └── js/
│       └── main.js       # 前端JavaScript逻辑
├── templates/            # HTML模板目录
│   └── index.html        # 主页面模板
└── settings.db           # SQLite数据库文件（运行时生成）
```

## 🚀 快速开始

### 方法一：使用启动脚本（推荐）

1. 双击运行 `start.bat` 文件
2. 等待应用启动完成
3. 在浏览器中访问 `http://127.0.0.1:5000`

### 方法二：手动启动

1. **安装依赖**
   ```bash
   pip install -r requirements.txt
   ```

2. **初始化数据库**
   ```bash
   python database.py
   ```

3. **启动应用**
   ```bash
   python app.py
   ```

4. **访问应用**
   
   打开浏览器访问：`http://127.0.0.1:5000`

## 📋 功能模块

### 📝 任务管理
- ✅ 创建、编辑、删除任务
- ☑️ 任务完成状态切换
- ⭐ 任务重要性标记
- 🎯 任务优先级设置（高、中、低）
- 📅 任务截止日期管理
- 📝 任务描述和详细信息

### 📂 任务列表
- ☀️ 我的一天 - 今日任务管理
- ⭐ 重要 - 重要任务集合
- 📅 已计划 - 有截止日期的任务
- 📋 任务 - 所有任务总览
- 🛒 购物 - 购物清单
- 💼 工作 - 工作相关任务
- 👤 个人 - 个人事务管理

### 🔍 搜索和筛选
- 🔍 全局任务搜索
- 👁️ 显示/隐藏已完成任务
- 📊 按列表筛选任务
- 🎯 按优先级筛选

### 📊 统计信息
- 📈 任务完成率统计
- 📊 总任务数和已完成数
- 🔥 今日到期任务提醒
- 📅 本周到期任务统计

### ⚙️ 用户偏好
- 🌙 浅色/深色主题切换
- 👁️ 默认显示已完成任务设置
- 🎨 界面个性化设置

## 🔧 API接口

### 任务列表管理
```
GET /api/task_lists              # 获取所有任务列表
POST /api/task_lists             # 创建新任务列表
PUT /api/task_lists/{id}         # 更新任务列表
DELETE /api/task_lists/{id}      # 删除任务列表
```

### 任务管理
```
GET /api/tasks                   # 获取任务列表（支持筛选）
POST /api/tasks                  # 创建新任务
GET /api/tasks/{id}              # 获取任务详情
PUT /api/tasks/{id}              # 更新任务
DELETE /api/tasks/{id}           # 删除任务
```

### 搜索功能
```
GET /api/search?q={query}        # 搜索任务
```

### 统计信息
```
GET /api/stats                   # 获取任务统计信息
```

### 用户偏好管理
```
GET /api/user_preferences        # 获取用户偏好
PUT /api/user_preferences        # 更新用户偏好
```

## 🎨 界面特性

- **Microsoft To Do 设计语言**: 采用现代简洁的设计风格
- **流畅动画**: 平滑的过渡效果和微交互
- **直观导航**: 侧边栏导航和快速切换
- **实时反馈**: 任务操作的即时通知
- **搜索功能**: 全局搜索任务内容
- **响应式布局**: 适配不同屏幕尺寸
- **优先级指示**: 颜色编码的优先级显示
- **截止日期提醒**: 过期任务高亮显示

## 🛠️ 开发说明

### 环境要求
- Python 3.7+
- 现代浏览器（Chrome、Firefox、Edge、Safari）

### 开发模式
应用默认在开发模式下运行，支持：
- 自动重载
- 调试模式
- 详细错误信息

### 数据库结构

#### 任务表 (tasks)
- id: 主键
- title: 任务标题
- description: 任务描述
- completed: 完成状态
- priority: 优先级 (high/medium/low)
- due_date: 截止日期
- list_id: 所属列表ID
- is_important: 是否重要
- created_at/updated_at: 时间戳

#### 任务列表表 (task_lists)
- id: 主键
- name: 列表名称
- icon: 图标
- color: 颜色
- sort_order: 排序顺序

#### 用户偏好表 (user_preferences)
- theme: 主题设置
- show_completed: 显示已完成任务
- default_list_id: 默认列表

## 📝 使用说明

### 基本操作
1. **添加任务**: 点击"+ 新建任务"按钮或使用快速添加框
2. **编辑任务**: 点击任务项的编辑图标
3. **完成任务**: 点击任务前的圆形复选框
4. **删除任务**: 点击任务项的删除图标

### 高级功能
1. **标记重要**: 点击星星图标标记重要任务
2. **设置优先级**: 编辑任务时设置优先级
3. **设置截止日期**: 编辑任务时选择截止日期
4. **切换列表**: 点击左侧导航栏切换不同任务列表
5. **搜索任务**: 使用顶部搜索框搜索任务

### 界面操作
1. **切换主题**: 点击右上角月亮/太阳图标
2. **显示/隐藏已完成**: 点击眼睛图标
3. **查看统计**: 左下角显示任务统计信息

## 🐛 故障排除

### 常见问题

1. **端口被占用**
   - 修改 `app.py` 中的端口号
   - 或者关闭占用5000端口的其他程序

2. **数据库错误**
   - 删除 `settings.db` 文件
   - 重新运行 `python database.py`

3. **样式显示异常**
   - 检查网络连接
   - 确保CDN资源可访问

4. **任务不显示**
   - 检查数据库是否正确初始化
   - 刷新浏览器页面

## 🔄 项目改造说明

本项目是从Windows设置界面克隆项目改造而来，主要改动：

1. **数据库重构**: 从设置管理改为任务管理
2. **API重写**: 所有API接口重新设计为任务相关
3. **界面改造**: 从设置界面改为任务清单界面
4. **功能重置**: 实现Microsoft To Do的核心功能
5. **交互优化**: 优化任务管理的用户体验

## 📄 许可证

本项目仅供学习和演示使用。

## 🤝 贡献

欢迎提交Issue和Pull Request来改进项目。

---

**享受高效的任务管理体验！** ✅🎉
